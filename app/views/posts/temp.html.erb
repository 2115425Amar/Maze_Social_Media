<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Post</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-[#F8F9FD]">

    <!-- Navbar -->
    <nav class="flex justify-center md:py-2 mx-4">
        <div class="flex w-full md:px-6 justify-between items-center">
            <div class="flex gap-4 p-4 items-center md:w-1/3">
                <img src="<%= asset_path('icon.svg') %>" class="w-8 md:w-10" alt="icon">
                <p class="text-2xl md:text-4xl font-serif font-semibold text-gray-800">Edit Post</p>
            </div>
        </div>
    </nav>

    <div class="max-w-3xl mx-auto bg-white rounded-xl p-6 border border-gray-300 mt-6 shadow-lg">
        <h2 class="text-xl font-semibold text-gray-800 mb-4">Edit Your Post</h2>

        <!-- Display Post Information -->
        <div class="mb-4 p-4 bg-gray-100 rounded-lg">
            <p class="text-lg font-medium"><%= @post.user.name %></p>
            <p class="text-gray-600"><%= time_ago_in_words(@post.created_at) %> ago â€¢ Public</p>
            <p class="text-gray-700 mt-2"><%= @post.content %></p>
        </div>

        <!-- Form to Edit Post -->
        <%= form_with(model: @post, url: post_path(@post), method: :patch, local: true) do |form| %>
            <div class="flex flex-col gap-2">
                <%= form.label :content, "Edit Content:", class: "font-medium text-gray-700" %>
                <%= form.text_area :content, class: "border p-2 rounded-md w-full focus:ring focus:ring-indigo-200" %>
                <%= form.submit "Update Post", class: "bg-blue-600 text-white px-4 py-2 rounded-md mt-2 hover:bg-blue-700 transition" %>
            </div>
        <% end %>

        <!-- Delete Post Button -->
        <div class="mt-4">
            <%= button_to "Delete Post", post_path(@post), method: :delete, data: { confirm: "Are you sure you want to delete this post?" }, class: "bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition" %>
        </div>
    </div>

</body>

</html>
